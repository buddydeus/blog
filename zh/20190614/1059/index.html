<!DOCTYPE html><html lang="zh-cn"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="format-detection" content="email=no"><meta name="description" content="Buddy-Deus's Blog, share experiences and ideas"><meta name="keywords" content="buddydeus, jShow, jshow, Node.js, nodejs"><meta http-equiv="Expires" content="0"><meta http-equiv="Pragma" content="no-cache"><meta http-equiv="Cache-control" content="no-cache"><meta http-equiv="Cache" content="no-cache"><title>HEXO爬坑记 - Buddy-Deus's Blog</title><script src="https://code.jquery.com/jquery-3.3.1.min.js"></script><script src="https://www.googletagmanager.com/gtag/js?id=UA-141925105-1" async></script><script src="/images/global.js"></script><link rel="stylesheet" href="/css/main_style.min.css"><link rel="icon" href="/favicon.ico"></head><body><input id="navi" type="checkbox"><label class="navi-button light" for="navi">菜单</label><div class="main-navication"><div class="owner"><a href="/index.html" target="_self"><i class="icon home"></i><span>首页</span></a><a href="https://github.com/j-show/jshow" target="_blank"><i class="icon github"></i><span>Github</span></a><a href="/tags/index-zh.html" target="_self"><i class="icon tag"></i><span>标签</span></a><a href="/categories/index-zh.html" target="_self"><i class="icon category"></i><span>类别</span></a><a href="/about/index-zh.html" target="_self"><i class="icon author"></i><span>关于我们</span></a></div></div><div class="wrapper" id="wrap"><div class="post-header"><div class="background"><img src="/images/post_background.jpg"></div><div class="post-title"><h1 class="title">HEXO爬坑记</h1><ul class="meta"><li><i class="icon author"></i>Buddy-Deus</li><li><i class="icon clock"></i><script>document.write(calcTime(1560495552031));</script></li><li><i class="icon calendar"></i>June 14, 2019</li></ul></div></div><div class="article-content" style="max-width:800px"><ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Bug吐槽"><span class="post-toc-number">1.</span> <span class="post-toc-text">Bug吐槽</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#依赖顺序"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">依赖顺序</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#多语言切换"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">多语言切换</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#异常处理"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">异常处理</span></a></li></ol></li></ol>
<blockquote>
<p>起因是我希望搭建一个Blog系统，又不想再去麻烦的配置服务器，所以采用了Github Pages作为空间。原本是希望用Jekyll，但阴差阳错的选择了Hexo，于是爬坑之旅开始了。</p>
</blockquote>
<p>首先还是肯定下，hexo整体比较稳定。但缺点也比较明显，主要集中在一下几点上面：</p>
<h1 id="Bug吐槽"><a href="#Bug吐槽" class="headerlink" title="Bug吐槽"></a>Bug吐槽</h1><h2 id="依赖顺序"><a href="#依赖顺序" class="headerlink" title="依赖顺序"></a>依赖顺序</h2><p>这个问题是我所料未及的，Hexo的<code>package.json</code>的<code>dependencies</code>是需要有明确的先后指向的（集中在<code>generator</code>相关的组件上），因为这个让我一度很绝望。</p>
<p>事后我仔细阅读了hexo的代码，发现hexo对象对不有个generator列表用来处理整个项目生成器，项目本身使用了key-value的键值对形式。</p>
<p>这个设计本身存在了一定的漏洞，众所周知键值对形式的顺序是不可控的。这本来问题不大，hexo内部区分页面为page、post、categories、tags这几种页面类型，每种类型应该只需要一种generator就可以，所以，不应该存在逻辑上的冲突。</p>
<p>但是命运就是如此的巧合，hexo本身对于generator没有使用特别严格的类型限制，所以当存在两个同类型生成器的时候，就存在的一个顺序执行的问题，而这在键值对形式中是允许的，所以我所遇到的问题就变成了个让人纠结的问题。</p>
<h2 id="多语言切换"><a href="#多语言切换" class="headerlink" title="多语言切换"></a>多语言切换</h2><p>hexo官方推荐<code>hexo-i18n</code>插件，用于处理多语言情况。但很不幸，这个插件处理的是识别多语言状态，并生成，但无法切换！！！而恰恰在开发时我需要用到的是个多语言切换站点，这不光是index页面需要针对语言进行文章列表的显示，针对categories、tags也都需要进行相应的识别。更关键的是在任意一个页面还需要能切换到另一个语言状态中，比如英文版tags——&gt;中文版tags。</p>
<p>这里我强烈推荐一个插件<code>hexo-generator-basic-set</code>，这个差劲可以非常两个良好的解决多语言文档的生成问题。当然这个插件需要针对同一片blog分别写多语言版本的内容，目前存在一种bug就是如果你只写了中文版本，英文版如果空缺，是无法自动生成类似404的切换页面的。</p>
<h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h2><p>这个算是无奈，本身hexo的基础是建立一套静态网页文件。所以不存在路由管理也就无法处理404这样的请求。这在单语言blog时问题不大，不会出现死链之类的情况（最多出现错链的时候会异常）。</p>
<p>但是在多语言状态，特别是某篇文章我不需要多语言的时候就会存在比较复杂的处理。</p>
<p>##总结</p>
<p>要修复上面的问题，需要延伸比较多的插件，并修改hexo的核心代码，建立页面、内容之间的关联关系。可以说这有点违背了简洁、快速的原则。</p>
<p>所以处理完这个模板，我果断开了个项目，基于jShow开源框架的衍生项目，致力于快速简单的搭建md文件静态网站（当然现在处于私有项目状态，后期会开源）</p>
</div><div class="article-meta" style="max-width:800px"><div class="tags"><i class="icon tag"></i><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/zh/tags/hexo">hexo</a></li></ul></div><div class="categories"><i class="icon category"></i><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/zh/categories/ken">ken</a></li></ul></div></div><ul class="navication"><li class="home"><a href="/"><i class="icon home"></i></a></li></ul><div class="page-footer"><div class="bottom"><p class="copyright">© 2019 Buddy-Deus's Blog<br><script type="text/javascript">analytics_google("UA-141925105-1")</script><script type="text/javascript">analytics_cnzz("1277704291")</script><small>POWER BY&nbsp;<a href="https://hexo.io" target="_blank">HEXO</a></small>&nbsp;|&nbsp;<small>THEME BY&nbsp;<a href="https://github.com/BoizZ/hexo-theme-laughing" target="_blank">LAUGHING</a></small></p></div></div></div><div id="dialog" style="display:none;"></div><script type="text/javascript">$(function () { $("#wrap").addClass("done"); $("#languager").Languager(); });</script></body></html>